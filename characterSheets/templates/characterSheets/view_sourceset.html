{% extends 'base_generic.html' %}
{% block extraLoads %}
<script>
$("[data-toggle=popover]").each(function(i, obj) {

$(this).popover({
  html: true,
  content: function() {
    var id = $(this).attr('id')
    return $('#popover-content-' + id).html();
  }
});

});
</script>
{% endblock %}
{% block content %}

<div class="row">
<div class="col">
    {{ ss.name }}
    <br>
    {% for user in ss.subscribers.all %}
        {{ user }}
        <br>
    {% endfor %}
    {% for saga in ss.saga_set.all %}
        {{ saga }}
        <br>
    {% endfor %}
</div>
<div class="col">
    <a class= 'btn btn-primary' href="{% url 'edit-sourceset' ss.id %}"> Edit Source</a>
</div>
</div>
<div class="row bg-info border-bottom">
<div class="col">
    Abilities
</div>
</div>
    {% for ability in ss.ability_set.all %}
        <div class="row"><div class="col">
            {{ ability }}
        </div></div>
    {% endfor %}

<div class="row bg-info border-bottom">
    <div class="col">
        Virtues
    </div>
    <div class="col">
        <a href="{% url 'import-virtues' ss.id %}" class="btn btn-primary">Import Virtues</a>
    </div>
</div>
    {% for virtue in ssVirtues %}
        <div class="row"><div class="col">
            {{ virtue }}
        </div>
        <div class="col">
            <a data-toggle="popover" data-container="body" data-placement="right" type="button" data-html="true" href="#" id="{{ virtue.id }}">Details</a>

            <div id="popover-content-{{ virtue.id }}" class="hide">
              <ul class="list-group">
                  <li class="list-group-item"><b>Description: </b>{{ virtue.description }}</li>
                  <li class="list-group-item"><b>Value: </b>{{ virtue.value }}</li>
                  <li class="list-group-item"><b>Type: </b>{{ virtue.type }}</li>
              </ul>
            </div>

        </div>
        </div>
    {% endfor %}

<div class="row bg-info border-bottom">
    <div class="col">
        Flaws
    </div>
</div>
    {% for flaw in ssFlaws %}
        <div class="row"><div class="col">
    {{ flaw }}
        </div></div>
    {% endfor %}

<div class="row bg-info border-bottom">
    <div class="col">
        Equipment
    </div>
</div>
    {% for equip in ss.equipment_set.all %}
        <div class="row"><div class="col">
            {{ equip }}
        </div></div>
    {% endfor %}


{% endblock %}
